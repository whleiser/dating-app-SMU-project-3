{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"/Users/hunterleiser/Desktop/dating-app-SMU-project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hunterleiser/Desktop/dating-app-SMU-project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport classify from './component/classify';\nimport css from './module/css';\nimport events from './component/events';\nimport _insert from './element/insert';\nimport offset from './element/offset';\nimport create from './element/create';\nimport attach from './module/attach';\nimport emitter from './module/emitter';\nimport List from './list';\nimport Item from './item';\nimport Divider from './divider';\nvar defaults = {\n  prefix: 'material',\n  class: 'menu',\n  tag: 'div',\n  events: [['root.click', 'hide'], ['mask.click', 'hide']]\n};\n/**\n * This Class represents a menu.\n *\n * @return {parent} The class instance\n * @example new Container({\n *   container: document.body\n * });\n */\n\nvar Menu = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   * @param  {Object} options - Component options\n   * @return {Object} Class instance\n   */\n  function Menu(options) {\n    _classCallCheck(this, Menu);\n\n    this.init(options);\n    this.build();\n    this.setup();\n    this.attach();\n    this.emit('ready');\n    return this;\n  }\n  /**\n   * [init description]\n   * @return {[type]} [description]\n   */\n\n\n  _createClass(Menu, [{\n    key: \"init\",\n    value: function init(options) {\n      this.options = Object.assign({}, defaults, options || {});\n      Object.assign(this, emitter, events, attach, _insert);\n    }\n    /**\n     * Build Method\n     * @return {Object} This class instance\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this = this;\n\n      this.root = create(this.options.tag, this.options.css);\n      this.mask = create(this.options.tag, this.options.class + '-mask');\n\n      if (this.options.position) {\n        this.root.style.position = this.options.position;\n      }\n\n      classify(this.root, this.options);\n\n      if (this.options.list) {\n        this.list = new List({\n          // root: this.root,\n          list: this.options.list,\n          target: '.material-item',\n          height: 600,\n          label: 'Flat',\n          select: function select(item) {\n            _this.selected = item;\n\n            _this.hide();\n          }\n        }).insert(this.root);\n      }\n\n      this.emit('built', this.root);\n      return this;\n    }\n  }, {\n    key: \"insert\",\n    value: function insert() {\n      _insert(this.mask, document.body);\n\n      _insert(this.root, document.body);\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var _this2 = this;\n\n      // this.subscribe('click', () => {\n      //   console.log('click');\n      //   this.close();\n      // });\n      //\n      window.addEventListener('resize', function () {\n        return _this2.position();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(e) {\n      css.add(this.mask, 'mask-show');\n      if (e) this.caller = e.target;\n      css.add(this.root, this.options.class + '-show');\n      this.position(this.caller);\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      if (!this.caller) return;\n      var offs = offset(this.caller);\n      var offsw = this.offset = offset(this.root); // console.log('offset')\n      // console.log('caller', this.caller, offs, screen.width)\n\n      this.root.style.top = offs.top + 'px';\n      this.root.style.left = offs.left - offsw.width + offs.width + 'px'; // this.root.style.right = offs.right + offs.width + offsw.width  + 'px'\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      // console.log('hide')\n      css.remove(this.root, this.options.class + '-show');\n      css.remove(this.mask, 'mask-show');\n    }\n  }]);\n\n  return Menu;\n}();\n\nexport default Menu;","map":null,"metadata":{},"sourceType":"module"}