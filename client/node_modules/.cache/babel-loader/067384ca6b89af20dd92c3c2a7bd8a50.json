{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"/Users/hunterleiser/Desktop/dating-app-SMU-project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hunterleiser/Desktop/dating-app-SMU-project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nvar instance = null;\n/**\n *\n */\n\nvar Controller = /*#__PURE__*/function () {\n  /**\n   * Setting up block level variable to store class state\n   * , set's to null by default.\n   * credits: http://amanvirk.me/singleton-classes-in-es6/\n   */\n  function Controller() {\n    _classCallCheck(this, Controller);\n\n    if (!instance) {\n      instance = this;\n    }\n\n    this.components = this.components || [];\n    this.component = this.component || {};\n    this.init();\n    return instance;\n  }\n\n  _createClass(Controller, [{\n    key: \"init\",\n    value: function init() {\n      this.subscribe('settings', function (message) {// console.log('settings', message);\n        // this.setSettings(message.key, message.value);\n      });\n    } // setSettings(key, value) {\n    //   var text = Cookies.get(key);\n    //   var current = {};\n    //   if (text) {\n    //     current = JSON.parse(text);\n    //   }\n    //   console.log('settings value', current, value);\n    //   //settings = [settings, value].reduce(Object.assign, {});\n    //   var settings = merge(current, value);\n    //   console.log('settings ' + key, settings);\n    //   Cookies.set(key, JSON.stringify(settings));\n    // }\n    // getSettings(key) {\n    //   var json = Cookies.get(key);\n    //   if (!json) {\n    //     return null;\n    //   }\n    //   var value = JSON.parse(json);\n    //   console.log('settings' + key, value);\n    //   return value;\n    // }\n\n    /**\n     * [register description]\n     * @param  {component} component [description]\n     * @return {Object} The class instance\n     */\n\n  }, {\n    key: \"register\",\n    value: function register(component) {\n      this.components.push(component);\n      this.component[component.name] = this.component[component.name] || [];\n      this.component[component.name].push(component);\n      return this;\n    }\n    /**\n     * This method subscribes to a specific topic\n     * @param  {string}   topic\n     * @param  {Function} callback\n     * @return {boolean} true\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(topic, callback) {\n      this._topics = this._topics || {}; // _log.debug('subscribe', topic);\n\n      if (!this._topics.hasOwnProperty(topic)) {\n        this._topics[topic] = [];\n      }\n\n      this._topics[topic].push(callback);\n\n      return true;\n    }\n    /**\n     * This method unsubscribes to a specific topic\n     * @param  {string}   topic\n     * @param  {Function} callback\n     * @return {boolean} true\n     */\n\n  }, {\n    key: \"unsunscribe\",\n    value: function unsunscribe(topic, callback) {\n      this._topics = this._topics || {}; // _log.debug('unsubscribe', topic);\n\n      if (!this._topics.hasOwnProperty(topic)) {\n        return false;\n      }\n\n      for (var i = 0, len = this._topics[topic].length; i < len; i++) {\n        if (this._topics[topic][i] === callback) {\n          this._topics[topic].splice(i, 1);\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * [publish description]\n     * @return {?} [description]\n     */\n\n  }, {\n    key: \"publish\",\n    value: function publish() {\n      this._topics = this._topics || {};\n      var args = Array.prototype.slice.call(arguments);\n      var topic = args.shift(); // _log.debug('publish', topic);\n\n      if (!this._topics.hasOwnProperty(topic)) {\n        return false;\n      }\n\n      for (var i = 0, len = this._topics[topic].length; i < len; i++) {\n        this._topics[topic][i].apply(undefined, args);\n      }\n\n      return true;\n    }\n  }]);\n\n  return Controller;\n}();\n\nvar controller = new Controller();\nexport default controller;","map":null,"metadata":{},"sourceType":"module"}